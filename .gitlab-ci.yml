image: python:3.8

cache:
  paths:
    - ~/.cache/pip/

before_script:
  - pip install poetry
  - ./sif_vaskelister poetry install
  # Uncomment next line if your Django app needs a JS runtime:
  # - apt-get update -q && apt-get install nodejs -yqq

lint:
  script:
    - ./sif_vaskelister isort -rc -c
    - ./sif_vaskelister black --check

test:
  script:
    - python sif_vaskelister/manage.py test
